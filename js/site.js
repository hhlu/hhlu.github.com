document.documentElement.className+="wf-loading";WebFontConfig={google:{families:["Oswald","Quattrocento:400,700","Open+Sans:300,400italic,400,700","Bree+Serif"]},custom:{families:["Mono Social Icons Font"],urls:["http://howardlu.com/css/fonts/monosocialiconsfont.css"]},active:function(){"function"==typeof redrawBeforeAfterElements&&redrawBeforeAfterElements()},fontactive:function(a,c){"Mono Social Icons Font"==a&&"function"==typeof redrawBeforeAfterElements&&redrawBeforeAfterElements()}};
(function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)})();
function BlogSearch(){var a=this,c=$("body"),e=$("#search"),f=$("#blog-search"),g=$("#search-results"),h=$("a.search-toggle");this.posts=null;this.search=function(d){if(!a.posts)return a.getPosts(),[];d=_(d.split(" ")).compact();return _(a.posts).filter(function(a){return _(d).every(function(d){return _(a.words).some(function(b){return b==d||0===b.indexOf(d)})})})};this.getPosts=function(){$.ajax({url:"/search.json",dataType:"json",success:function(d,c,e){a.posts=_(d).map(function(b){b.words=[];b.title&&
(b.words=b.title.toLowerCase().split(" "));b.tags&&(b.tags=_(b.tags).map(function(b){return b=b.toLowerCase()}),b.words=_.union(b.words,b.tags));return b});f.trigger("keyup")}})};this.bindControls=function(){h.click(function(a){a.preventDefault();e.is(":hidden")&&c.addClass("noscroll");e.fadeToggle(400,function(){$(this).is(":visible")?f.focus():c.removeClass("noscroll")})});$(document).keyup(function(a){27==a.keyCode&&e.fadeOut(400,function(){c.removeClass("noscroll")})})};this.bindSearch=function(){f.keyup(_(function(){var d=
$("ul",g),c=$(this).val();if(3<=c.length){d.empty();c=a.search(c.toLowerCase());if(!c||!c.length)return d.append("<li>No results found</li>"),!1;$.each(c,function(a,b){d.append('<li>                             <span class="date">'+b.date+'</span>                             <a href="'+b.url+'">'+b.title+"</a>                         </li>")});return!0}}).debounce(100))}}var disqus_shortname="howardlu";
$(function(){var a=$("nav.navbar"),c=$("header.main");$(window).bind("scroll resize",function(){$(this).scrollTop()>=c.offset().top+c.innerHeight()?a.css({position:"fixed",top:0}):a.css({position:"absolute",top:"auto"})});var e=new BlogSearch;e.bindControls();e.bindSearch()});
