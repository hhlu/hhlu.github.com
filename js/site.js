document.documentElement.className+="wf-loading";WebFontConfig={google:{families:["Oswald","Quattrocento:400,700","Open+Sans:300,400italic,400,700","Bree+Serif"]}};(function(){var d=document.createElement("script");d.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";d.type="text/javascript";d.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(d,b)})();
function BlogSearch(){var d=this,b=$("body"),e=$("#search"),f=$("#blog-search"),g=$("#search-results"),h=$("a.search-toggle");this.posts=null;this.search=function(c){if(!d.posts)return d.getPosts(),[];c=_(c.split(" ")).compact();return _(d.posts).filter(function(d){return _(c).every(function(c){return _(d.words).some(function(a){return a==c||0===a.indexOf(c)})})})};this.getPosts=function(){$.ajax({url:"/search.json",dataType:"json",success:function(c,b,e){d.posts=_(c).map(function(a){a.words=[];a.title&&
(a.words=a.title.toLowerCase().split(" "));a.tags&&(a.tags=_(a.tags).map(function(a){return a=a.toLowerCase()}),a.words=_.union(a.words,a.tags));return a});f.trigger("keyup")}})};this.bindControls=function(){h.click(function(c){c.preventDefault();e.is(":hidden")&&b.addClass("noscroll");e.fadeToggle(400,function(){$(this).is(":visible")?f.focus():b.removeClass("noscroll")})});$(document).keyup(function(c){27==c.keyCode&&e.fadeOut(400,function(){b.removeClass("noscroll")})})};this.bindSearch=function(){f.keyup(_(function(){var c=
$("ul",g),b=$(this).val();if(3<=b.length){c.empty();b=d.search(b.toLowerCase());if(!b||!b.length)return c.append("<li>No results found</li>"),!1;$.each(b,function(b,a){c.append('<li>                             <span class="date">'+a.date+'</span>                             <a href="'+a.url+'">'+a.title+"</a>                         </li>")});return!0}}).debounce(100))}}var disqus_shortname="howardlu";
$(function(){var d=$("nav.navbar"),b=$("header.main");$(window).bind("scroll resize",function(){Modernizr.mq("only screen and (min-width: 768px)")&&($(this).scrollTop()>=b.offset().top+b.innerHeight()?d.css({position:"fixed",top:0}):d.css({position:"absolute",top:"auto"}))});var e=new BlogSearch;e.bindControls();e.bindSearch()});
